<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AG MCQ Reasoning Assistant | Mentor Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .math-display {
            font-size: 1.05rem;
            color: #1e293b;
        }
        
        .option-correct {
            border-color: #10b981 !important;
            background-color: rgba(16, 185, 129, 0.05);
        }
        
        .option-incorrect {
            border-color: #ef4444 !important;
        }
        
        .explanation-correct {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        }
        
        .explanation-incorrect {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        }
        
        .question-card {
            scroll-margin-top: 2rem;
            transition: all 0.3s ease;
        }
        
        .question-card:hover {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
        }
        
        .active-nav {
            background-color: #4f46e5;
            color: white;
        }
        
        .sticky-nav {
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .print-only {
            display: none;
        }
        
        .question-image {
            max-width: 100%;
            height: auto;
            margin: 1rem 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
            
            .print-only {
                display: block !important;
            }
            
            .question-card {
                break-inside: avoid;
                page-break-inside: avoid;
            }
            
            body {
                padding: 0;
                margin: 0;
                background: white;
            }
            
            .question-image {
                max-width: 300px !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="sticky-nav bg-white shadow-sm border-b border-gray-200 no-print">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <div class="bg-indigo-600 text-white p-2 rounded-lg mr-4">
                        <i class="fas fa-chalkboard-teacher text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">AG MCQ Reasoning Assistant</h1>
                        <p class="text-gray-600 text-sm">Mentor & Teacher Dashboard</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="print-btn" class="px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors">
                        <i class="fas fa-print mr-2"></i>Print
                    </button>
                    <button id="export-btn" class="px-4 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors">
                        <i class="fas fa-file-export mr-2"></i>Export
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container mx-auto px-6 py-8">
        <!-- Dashboard Overview -->
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8 no-print">
            <div class="bg-white rounded-xl shadow p-6">
                <div class="flex items-center">
                    <div class="p-3 bg-indigo-100 text-indigo-600 rounded-lg mr-4">
                        <i class="fas fa-question-circle text-xl"></i>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gray-900" id="total-questions">10</div>
                        <div class="text-gray-600">Total Questions</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <div class="flex items-center">
                    <div class="p-3 bg-emerald-100 text-emerald-600 rounded-lg mr-4">
                        <i class="fas fa-check-circle text-xl"></i>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gray-900">All</div>
                        <div class="text-gray-600">With Explanations</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <div class="flex items-center">
                    <div class="p-3 bg-amber-100 text-amber-600 rounded-lg mr-4">
                        <i class="fas fa-calculator text-xl"></i>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gray-900">8</div>
                        <div class="text-gray-600">Math Questions</div>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-xl shadow p-6">
                <div class="flex items-center">
                    <div class="p-3 bg-purple-100 text-purple-600 rounded-lg mr-4">
                        <i class="fas fa-shapes text-xl"></i>
                    </div>
                    <div>
                        <div class="text-2xl font-bold text-gray-900">2</div>
                        <div class="text-gray-600">Geometry Questions</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Print Header -->
        <div class="print-only bg-white p-6 mb-8 rounded-xl shadow">
            <div class="text-center">
                <h1 class="text-3xl font-bold text-gray-900 mb-2">AG MCQ Reasoning Assistant</h1>
                <h2 class="text-xl text-gray-600 mb-2">Mentor & Teacher Reference Material</h2>
                <div class="border-t border-gray-300 pt-4 text-sm text-gray-500">
                    Generated on: <span id="print-date"></span> | Total Questions: 10
                </div>
            </div>
        </div>

        <!-- Quick Navigation -->
        <div class="no-print mb-8">
            <div class="bg-white rounded-xl shadow p-6">
                <h2 class="text-xl font-bold text-gray-900 mb-4">Quick Navigation</h2>
                <div class="flex flex-wrap gap-2" id="question-nav">
                    <!-- Navigation buttons will be generated here -->
                </div>
            </div>
        </div>

        <!-- Questions Container -->
        <div id="questions-container">
            <!-- Questions will be dynamically generated here -->
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-6 mt-8 no-print">
        <div class="container mx-auto px-6">
            <div class="text-center text-gray-600">
                <p>© 2023 AG MCQ Reasoning Assistant. For mentor and teacher use only.</p>
                <p class="text-sm mt-2">This material contains detailed explanations for MCQ questions with step-by-step reasoning.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Configure MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                packages: {'[+]': ['ams']}
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };

        // Sample MCQ Data with base64 image
        const mcqData = [
  {
    "Q-No": "1",
    "Qn": "Write the zeroes of the polynomial $2x^2-6x-7$",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "4, 7",
    "Option B": "2, -4",
    "Option C": "(1, 7) ",
    "Option D": " (3, -2)",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Sum of zeroes is 11, but -(-6)/2 = 3. Incorrect.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Sum of zeroes is -2, does not match 3. Incorrect.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Sum of zeroes is 8, does not match 3. Incorrect.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"Given as correct, though mathematically roots of 2x²-6x-7 are irrational. Likely typo in question; (3, -2) are roots of x²-x-6.\" } }"
  },
  {
    "Q-No": "2",
    "Qn": "Solve the equations $\\frac{1}{2x}-\\frac{1}{y}= -1,\\; \\frac{1}{x}+\\frac{1}{2y}=8$  ,x,y != 0    and find $6x+4y$",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "4",
    "Option B": "6",
    "Option C": "1",
    "Option D": "2",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Result of 6x+4y is 2, not 4.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Calculation yields 2, not 6.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect value.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"Solving equations: 1/x=6, 1/y=4 ⇒ x=1/6, y=1/4. Thus 6(1/6) + 4(1/4) = 1 + 1 = 2.\" } }"
  },
  {
    "Q-No": "3",
    "Qn": "\\(5\\tan \\theta +7(\\sec \\theta \\sin \\theta) = 24\\) find cot \\(\\theta\\)",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "1",
    "Option B": "5/7",
    "Option C": "7/5",
    "Option D": "1/2",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"tan θ = 2, so cot θ ≠ 1.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Reciprocal of tan θ is 1/2, not 5/7.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect ratio.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"sec θ sin θ = tan θ. Equation becomes 5tan θ + 7tan θ = 24 ⇒ 12tan θ = 24 ⇒ tan θ = 2. cot θ = 1/2.\" } }"
  },
  {
    "Q-No": "4",
    "Qn": "Find the value of  X  for which DE||AB in the given figure",
    "Figure": "",
    "Figure-meta-data": "",
    "Option A": "x=2",
    "Option B": "x=1",
    "Option C": "x=6",
    "Option D": "x=3",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"By Basic Proportionality Theorem, sides are proportional. Substituting x=2 satisfies the ratios required for DE||AB.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Does not satisfy the proportionality condition required by Thales Theorem.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect value for x based on BPT.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Ratios of sides would be unequal with x=3.\" } }"
  },
  {
    "Q-No": "5",
    "Qn": "From a point on the ground   50m away from the foot of a tower, the angle of elevation of the top of the tower is  45 degree . The angle of elevation of the top of the flag post which is on the top of the tower is 60 degree . Find the length of the flag post",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "$50(\\sqrt3+1)$",
    "Option B": "$100(\\sqrt3+1)$",
    "Option C": "$100(\\sqrt3-1)$",
    "Option D": "$50(\\sqrt3-1)$",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Incorrect subtraction of heights.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Too large, involves incorrect addition.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect scalar multiplier.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"Tower height = 50tan45 = 50. Total height = 50tan60 = 50√3. Flag = Total - Tower = 50√3 - 50 = 50(√3-1).\" } }"
  },
  {
    "Q-No": "6",
    "Qn": "Find the area of the shaded region, enclosed between two concentric circles of radii   7cm and   14 cm where $\\angle AOC=90^\\circ$. ( use pi = 22/7 )",
    "Figure": "",
    "Figure-meta-data": "",
    "Option A": "115.5 cmÂ²",
    "Option B": "116.5 cmÂ²",
    "Option C": "77 cmÂ²",
    "Option D": "75 cmÂ²",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"Area = (90/360)π(R²-r²) = (1/4)(22/7)(196-49) = (1/4)(22/7)(147) = 115.5 cm².\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Calculation error, correct is 115.5.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Much lower than the actual area.\" } }"
  },
  {
    "Q-No": "7",
    "Qn": "if cos A + cos^2 A = 1,then sin^2 A + sin^4 A is ",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "0",
    "Option B": "1",
    "Option C": "2",
    "Option D": "None of thease",
    "Correct Ans": "B",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Incorrect value.\" }, \"B\": { \"correctFlag\": true, \"explanation\": \"cos A = 1 - cos²A = sin²A. Substituting sin²A = cos A into expression: cos A + cos²A = 1.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Result is 1, not 2.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Option B is the correct answer.\" } }"
  },
  {
    "Q-No": "8",
    "Qn": "In a right triangle ABC, right angled at B , the ratio of AB to AC is 1:root2  find the value of  5 tan A / 1 + tan^2 A",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "1",
    "Option B": "5/2",
    "Option C": "0",
    "Option D": "3/2",
    "Correct Ans": "B",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Incorrect evaluation.\" }, \"B\": { \"correctFlag\": true, \"explanation\": \"cos A = AB/AC = 1/√2 ⇒ A=45°. tan 45 = 1. Expression: 5(1)/(1+1) = 5/2.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Result is non-zero.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" } }"
  },
  {
    "Q-No": "9",
    "Qn": "Two concentric circles are of radii 6 cm and  rcm  respectively where  r > 6 . A chord of larger circle of length 16 cm touches the smaller circle. Find the value of  r .",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "11 cm",
    "Option B": "10 cm",
    "Option C": "14 cm",
    "Option D": "12 cm ",
    "Correct Ans": "B",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Hypotenuse is 10, not 11.\" }, \"B\": { \"correctFlag\": true, \"explanation\": \"Perpendicular from center bisects chord (16/2=8). Right triangle with legs 6 and 8. r = √(6²+8²) = 10 cm.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect Pythagorean calculation.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect value.\" } }"
  },
  {
    "Q-No": "10",
    "Qn": "A girl calculates that the probability of her winning the first prize in a lottery is 0.08. If 6000 tickets are sold, then how many tickets has she bought?",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "420",
    "Option B": "460",
    "Option C": "480",
    "Option D": "440",
    "Correct Ans": "C ",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"420/6000 = 0.07.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"460/6000 ≠ 0.08.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"Probability = Favorable/Total. Tickets = 0.08 × 6000 = 480.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"440/6000 ≠ 0.08.\" } }"
  },
  {
    "Q-No": "11",
    "Qn": "The marks obtained by students in a test is given below. Find the mean mark   \n| Marks Range | 0-20 | 20-40 | 40-60 | 60-80 | 80-100 |\n+------------+------+-------+-------+-------+--------+\n| No. of Students | 20 | 35 | 52 | 44 | 38 |\n+------------+------+-------+-------+-------+--------+\n",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "62.55",
    "Option B": "56.72",
    "Option C": "54.76",
    "Option D": "59.35",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Too high.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Close, but incorrect.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"Mean = Σfixi / Σfi = 10350 / 189 ≈ 54.76.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" } }"
  },
  {
    "Q-No": "12",
    "Qn": "The mean of the following distribution is 23. Find the missing frequencies f1 and f2 the if sum of all the frequencies is 10    +------------+-------+--------+--------+--------+\n| Class      | 5–15  | 15–25  | 25–35  | 35–45  |\n+------------+-------+--------+--------+--------+\n| Frequency  |  f₁   |   4    |   3    |  f₂    |\n+------------+-------+--------+--------+--------+\n",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "1,2",
    "Option B": "1,1",
    "Option C": "2,1",
    "Option D": "2,3",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Does not satisfy the mean equation.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Sum of frequencies would not equal 10.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"f1+f2=3. Mean eq: 10f1+4f2=24. Solving gives f1=2, f2=1.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Sum of frequencies exceeds limit.\" } }"
  },
  {
    "Q-No": "13",
    "Qn": "Two alarm clocks ring their alarms at regular intervals of 50 seconds and 48 seconds. If they first beep together at 12 noon, at what time will they beep again for the first time after 12 noon?",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "12.20 pm",
    "Option B": "12.12 pm",
    "Option C": "12.11 pm",
    "Option D": "None of these",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"LCM of 50 and 48 is 1200 seconds = 20 minutes. 12:00 + 20 min = 12.20 pm.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"12 minutes is 720s, not divisible by 50.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"11 minutes is not divisible by 50.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Option A is correct.\" } }"
  },
  {
    "Q-No": "14",
    "Qn": "If the HCF of 144 and 180 is expressed in the form 13m − 3  , find the value of m .",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "-3",
    "Option B": "1",
    "Option C": "2",
    "Option D": "3",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Results in negative HCF.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"13(1)-3 = 10, incorrect.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"13(2)-3 = 23, incorrect.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"HCF(144, 180) = 36. 13m - 3 = 36 ⇒ 13m = 39 ⇒ m = 3.\" } }"
  },
  {
    "Q-No": "15",
    "Qn": "Find the points on the x -axis which are at a distance of 2 root 5 from the point (7, - 4)",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "(5,0) (0,9 )",
    "Option B": "(0,5) (0,9 )",
    "Option C": "(5,0) (9,0 )",
    "Option D": "(0,5)  (9,0 )",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"(0,9) is on y-axis, not x-axis.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Points are on y-axis.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"Distance formula: (x-7)² + 16 = 20 ⇒ (x-7)² = 4 ⇒ x=5 or 9. Points (5,0), (9,0).\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Includes y-axis point.\" } }"
  },
  {
    "Q-No": "16",
    "Qn": "Name the type of triangle PQR formed by the points \\(P(\\sqrt{2},sqrt{2}),Q(-sqrt{2},-sqrt{2}) and R(-sqrt{6},sqrt{6})",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "Right triangle",
    "Option B": "Isosceles triangle",
    "Option C": "Equilateral Triangle",
    "Option D": "None of these",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Sides are equal, so it is equilateral.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Technically true, but 'Equilateral' is the precise classification as all sides are equal.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"Calculate distance squared for PQ, QR, RP. All equal 16. Hence, equilateral triangle.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"It is an equilateral triangle.\" } }"
  },
  {
    "Q-No": "17",
    "Qn": "Which term of the A.P 3,15,27,39,.... is 132 more than the 54th term?",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "67th",
    "Option B": "66th",
    "Option C": "65th",
    "Option D": "68th",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Incorrect term count.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Incorrect.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"d=12. Difference in terms = 132/12 = 11. 54th + 11 = 65th term.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect term count.\" } }"
  },
  {
    "Q-No": "18",
    "Qn": "If the sum of the first four terms of an A P is 26 and the sum of first 14 terms is 301, find the n th term",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "3n-2",
    "Option B": "3n-1",
    "Option C": "3n+1",
    "Option D": "2n-1",
    "Correct Ans": "B",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Incorrect formula.\" }, \"B\": { \"correctFlag\": true, \"explanation\": \"Solving S4=26 and S14=301 gives a=2, d=3. nth term = 2+(n-1)3 = 3n-1.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect intercept.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect slope and intercept.\" } }"
  },
  {
    "Q-No": "19",
    "Qn": "An inverted cone of vertical height 14 cm and radius of base 7 cm contains water to a depth of 3 cm. Find the area of the interior surface of the cone not in contact with the water. [Give your answer in whole number after rounding of decimals. Take Pi  = 3.14, root 5 = 2.236 ]",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "318cm^2",
    "Option B": "326cm^2",
    "Option C": "363cm^2",
    "Option D": "314cm^2",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Calculation yields ~328, closer to D if approximated via 100π.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Calculation yields ~328, but D is the official answer.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Too high.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"Calculated CSA of frustum is approx 328cm². Option D (314) likely assumes approximation or specific constants/typo (314 ≈ 100π).\" } }"
  },
  {
    "Q-No": "20",
    "Qn": "The diameter of a roller is 120 cm and its length is 84 cm. If it takes 500 complete revolutions to level a playground, determine the cost of levelling it at the rate of 30 paise per sq. m. ( Take pi = 22/7 )",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "Rs.625.50",
    "Option B": "Rs.525.25",
    "Option C": "Rs.475.20",
    "Option D": "Rs.380.75",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Calculation error.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Calculation error.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"Area = 500 × 2πrh = 1584 m². Cost = 1584 × 0.30 = Rs 475.20.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Calculation error.\" } }"
  },
  {
    "Q-No": "21",
    "Qn": "Sum of area of two squares is 970cm^2 . If the sum of their perimeters is 176cm . Find the sides of the two squares.",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "21 cm, 23 cm",
    "Option B": "20 cm, 24 cm",
    "Option C": "19 cm, 25 cm",
    "Option D": "18 cm, 26 cm",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"21² + 23² = 441 + 529 = 970. Perimeters 4(21)+4(23) = 84+92 = 176. Matches.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Sum of areas = 400 + 576 = 976 ≠ 970.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Sum of areas = 361 + 625 = 986 ≠ 970.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Sum of areas = 324 + 676 = 1000 ≠ 970.\" } }"
  },
  {
    "Q-No": "22",
    "Qn": "Which of the following equations has no real roots?",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "x^2-4x+3root2=0",
    "Option B": "x^2+4x-3root2=0",
    "Option C": "x^2-4x-3root2=0",
    "Option D": "3x^2+4root3x+4=0",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"Discriminant D = b²-4ac = 16 - 12√2 ≈ 16 - 16.9 < 0. No real roots.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"D = 16 + 12√2 > 0. Real roots exist.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"D = 16 + 12√2 > 0. Real roots exist.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"D = 48 - 48 = 0. Real equal roots exist.\" } }"
  },
  {
    "Q-No": "23",
    "Qn": "A 5 m long ladder is placed leaning towards a vertical wall such that it reaches the wall at a point 4 m high. If the foot of the ladder is moved 1.6m towards the wall, then find the distance by which the top of the ladder would slide upwards on the wall.",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "0.8 m",
    "Option B": "0.4 m",
    "Option C": "1 m",
    "Option D": "0.2 m",
    "Correct Ans": "A",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": true, \"explanation\": \"Initial base=3m. New base=1.4m. New height = √(25 - 1.4²) = 4.8m. Shift = 4.8 - 4 = 0.8m.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Incorrect calculation.\" } }"
  },
  {
    "Q-No": "24",
    "Qn": "In a ΔPQR, N is a point on PR such that QN ⟂ PR. If PN · NR = QN², find ∠PQR.",
    "Figure": "none",
    "Figure-meta-data": "none",
    "Option A": "45Â°",
    "Option B": "30Â°",
    "Option C": "60Â°",
    "Option D": "90Â°",
    "Correct Ans": "D",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Condition implies right angle at Q, not 45°.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Condition implies right angle at Q, not 30°.\" }, \"C\": { \"correctFlag\": false, \"explanation\": \"Condition implies right angle at Q, not 60°.\" }, \"D\": { \"correctFlag\": true, \"explanation\": \"QN² = PN·NR is the geometric mean property of the altitude in a right-angled triangle. Thus ∠PQR = 90°.\" } }"
  },
  {
    "Q-No": "25",
    "Qn": "If P is the midpoint of the arc QR and  <RQP = 60degree then find <RPT",
    "Figure": "",
    "Figure-meta-data": "",
    "Option A": "70Â°",
    "Option B": "50Â°",
    "Option C": "60Â°",
    "Option D": "65Â°",
    "Correct Ans": "C",
    "Explnation ( JSON )": "{ \"A\": { \"correctFlag\": false, \"explanation\": \"Angle RPT equals angle in alternate segment.\" }, \"B\": { \"correctFlag\": false, \"explanation\": \"Angle RPT equals angle in alternate segment.\" }, \"C\": { \"correctFlag\": true, \"explanation\": \"P is midpoint of arc ⇒ PQ=PR. ΔPQR is equilateral. By alternate segment theorem (assuming T on tangent), ∠RPT = ∠PQR = 60°.\" }, \"D\": { \"correctFlag\": false, \"explanation\": \"Angle RPT equals angle in alternate segment.\" } }"
  }
]
        // DOM Elements
        const questionsContainer = document.getElementById('questions-container');
        const questionNav = document.getElementById('question-nav');
        const totalQuestionsEl = document.getElementById('total-questions');
        const printBtn = document.getElementById('print-btn');
        const exportBtn = document.getElementById('export-btn');
        const printDateEl = document.getElementById('print-date');

        // Initialize
        function init() {
            // Set print date
            const now = new Date();
            printDateEl.textContent = now.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Set total questions
            totalQuestionsEl.textContent = mcqData.length;
            
            // Generate navigation
            generateNavigation();
            
            // Generate all questions
            generateQuestions();
            
            // Initialize MathJax after content is loaded
            setTimeout(() => {
                if (window.MathJax) {
                    MathJax.typesetPromise().catch(err => console.log('MathJax typeset error:', err));
                }
            }, 500);
        }

        // Generate navigation buttons
        function generateNavigation() {
            questionNav.innerHTML = '';
            
            mcqData.forEach((question, index) => {
                const button = document.createElement('button');
                button.className = 'px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors';
                button.textContent = `Q${question["Q-No"]}`;
                
                button.addEventListener('click', () => {
                    // Scroll to the question
                    const questionElement = document.getElementById(`question-${question["Q-No"]}`);
                    if (questionElement) {
                        questionElement.scrollIntoView({ behavior: 'smooth' });
                        
                        // Update active nav button
                        document.querySelectorAll('#question-nav button').forEach(btn => {
                            btn.classList.remove('active-nav');
                            btn.classList.add('bg-gray-100', 'text-gray-700');
                        });
                        
                        button.classList.remove('bg-gray-100', 'text-gray-700');
                        button.classList.add('active-nav');
                    }
                });
                
                questionNav.appendChild(button);
            });
        }

        // Generate all questions with explanations
        function generateQuestions() {
            questionsContainer.innerHTML = '';
            
            mcqData.forEach((question, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question-card bg-white rounded-xl shadow mb-8 p-8';
                questionElement.id = `question-${question["Q-No"]}`;
                
                // Question header
                const headerHTML = `
                    <div class="flex justify-between items-start mb-6 pb-4 border-b border-gray-200">
                        <div>
                            <div class="inline-flex items-center px-4 py-2 bg-indigo-100 text-indigo-800 rounded-full text-sm font-medium mb-3">
                                <i class="fas fa-question mr-2"></i>
                                Question ${question["Q-No"]}
                            </div>
                            <h2 class="text-2xl font-bold text-gray-900 math-display">${question.Qn}</h2>
                        </div>
                        <div class="px-4 py-2 bg-emerald-100 text-emerald-800 rounded-lg text-sm font-medium">
                            <i class="fas fa-check-circle mr-2"></i>
                            Correct Answer: <span class="font-bold">${question["Correct Ans"].trim()}</span>
                        </div>
                    </div>
                `;
                
                // Image section (if exists)
                let imageHTML = '';
                if (question.Figure && question.Figure !== "none") {
                    if (question.Figure.startsWith('data:image')) {
                        // Base64 image
                        imageHTML = `
                            <div class="mb-6">
                                <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                                    <i class="fas fa-image mr-2 text-indigo-600"></i>
                                    Figure
                                </h3>
                                <div class="flex justify-center">
                                    <img src="${question.Figure}" alt="Question Figure" class="question-image max-w-md">
                                </div>
                            </div>
                        `;
                    }
                }
                
                // Options section
                let optionsHTML = `
                    <div class="mb-8">
                        <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-list-ul mr-2 text-indigo-600"></i>
                            Options
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                `;
                
                const optionLetters = ['A', 'B', 'C', 'D'];
                optionLetters.forEach(letter => {
                    const optionKey = `Option ${letter}`;
                    const optionText = question[optionKey];
                    const isCorrect = question["Correct Ans"].trim() === letter;
                    
                    optionsHTML += `
                        <div class="option p-4 rounded-xl border-2 ${isCorrect ? 'option-correct' : 'border-gray-200'}">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-3 ${
                                    isCorrect ? 'bg-emerald-100 text-emerald-800' : 'bg-gray-100 text-gray-800'
                                }">
                                    ${letter}
                                </div>
                                <div class="flex-1 math-display">${optionText}</div>
                                ${isCorrect ? 
                                    '<div class="ml-2 text-emerald-600"><i class="fas fa-check-circle"></i></div>' : 
                                    ''
                                }
                            </div>
                        </div>
                    `;
                });
                
                optionsHTML += `
                        </div>
                    </div>
                `;
                
                // Explanation section
                let explanationHTML = `
                    <div class="mb-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-comment-dots mr-2 text-indigo-600"></i>
                            Detailed Explanations
                        </h3>
                        <div class="space-y-4">
                `;
                
                const explanationData = question["Explnation ( JSON )"];
                optionLetters.forEach(letter => {
                    const optionData = explanationData[letter];
                    const isCorrect = optionData.correctFlag;
                    
                    explanationHTML += `
                        <div class="explanation p-5 rounded-xl ${isCorrect ? 'explanation-correct' : 'explanation-incorrect'}">
                            <div class="flex items-start mb-3">
                                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-4 ${
                                    isCorrect ? 'bg-emerald-100 text-emerald-800' : 'bg-red-100 text-red-800'
                                }">
                                    <span class="font-bold">${letter}</span>
                                </div>
                                <div class="flex-1">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h4 class="font-bold ${isCorrect ? 'text-emerald-800' : 'text-red-800'}">
                                                ${isCorrect ? 'Correct Answer' : 'Incorrect Option'}
                                            </h4>
                                            <div class="text-gray-700 mt-2 math-display">${optionData.explanation}</div>
                                        </div>
                                        <div class="px-3 py-1 rounded-full text-sm font-medium ${
                                            isCorrect ? 'bg-emerald-200 text-emerald-800' : 'bg-red-200 text-red-800'
                                        }">
                                            ${isCorrect ? '✓ Correct' : '✗ Incorrect'}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                explanationHTML += `
                        </div>
                    </div>
                `;
                
                // Teaching notes section
                const teachingNotesHTML = `
                    
                `;
                
                // Combine all sections
                questionElement.innerHTML = headerHTML + imageHTML + optionsHTML + explanationHTML + teachingNotesHTML;
                questionsContainer.appendChild(questionElement);
            });
            
            // Process MathJax after all questions are loaded
            setTimeout(() => {
                if (window.MathJax) {
                    MathJax.typesetPromise().catch(err => console.log('MathJax typeset error:', err));
                }
            }, 100);
        }

        // Event Listeners
        printBtn.addEventListener('click', () => {
            window.print();
        });

        exportBtn.addEventListener('click', () => {
            // Create a printable version
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>AG MCQ Reasoning Assistant - Questions & Explanations</title>
                    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"><\/script>
                    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"><\/script>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 40px; }
                        .question { margin-bottom: 40px; page-break-inside: avoid; }
                        .question-header { border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }
                        .options { margin: 20px 0; }
                        .option { margin: 10px 0; padding: 10px; border-left: 4px solid #ddd; }
                        .option.correct { border-color: #10b981; background-color: #f0fdf4; }
                        .explanation { margin: 10px 0; padding: 15px; border-radius: 5px; }
                        .explanation.correct { background-color: #f0fdf4; border: 1px solid #10b981; }
                        .explanation.incorrect { background-color: #fef2f2; border: 1px solid #ef4444; }
                        h1 { color: #1f2937; }
                        h2 { color: #374151; }
                        .header { text-align: center; margin-bottom: 40px; }
                        .footer { margin-top: 40px; text-align: center; color: #6b7280; font-size: 12px; }
                        img { max-width: 100%; height: auto; margin: 10px 0; }
                    </style>
                    <script>
                        window.MathJax = {
                            tex: {
                                inlineMath: [['$', '$'], ['\\\\(', '\\\\)']],
                                displayMath: [['$$', '$$'], ['\\\\[', '\\\\]']],
                                processEscapes: true
                            }
                        };
                    <\/script>
                </head>
                <body>
                    <div class="header">
                        <h1>AG MCQ Reasoning Assistant</h1>
                        <h2>Questions with Detailed Explanations</h2>
                        <p>Generated on: ${new Date().toLocaleDateString()}</p>
                    </div>
            `);

            // Add each question
            mcqData.forEach(question => {
                let imageHTML = '';
                if (question.Figure && question.Figure !== "none") {
                    if (question.Figure.startsWith('data:image')) {
                        imageHTML = `<div style="text-align: center; margin: 20px 0;"><img src="${question.Figure}" alt="Question Figure" style="max-width: 400px;"></div>`;
                    }
                }
                
                printWindow.document.write(`
                    <div class="question">
                        <div class="question-header">
                            <h2>Question ${question["Q-No"]}: ${question.Qn}</h2>
                            <p><strong>Correct Answer:</strong> ${question["Correct Ans"].trim()}</p>
                        </div>
                        
                        ${imageHTML}
                        
                        <div class="options">
                            <h3>Options:</h3>
                            ${['A', 'B', 'C', 'D'].map(letter => {
                                const isCorrect = question["Correct Ans"].trim() === letter;
                                return `
                                    <div class="option ${isCorrect ? 'correct' : ''}">
                                        <strong>${letter}:</strong> ${question[`Option ${letter}`]}
                                        ${isCorrect ? ' (Correct)' : ''}
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        
                        <div class="explanations">
                            <h3>Explanations:</h3>
                            ${['A', 'B', 'C', 'D'].map(letter => {
                                const exp = question["Explnation ( JSON )"][letter];
                                return `
                                    <div class="explanation ${exp.correctFlag ? 'correct' : 'incorrect'}">
                                        <strong>${letter}:</strong> ${exp.explanation}
                                        <br><em>${exp.correctFlag ? 'Correct Answer' : 'Incorrect Option'}</em>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        
                        <div class="teaching-notes">
                            <h3>Teaching Notes:</h3>
                            <p>Focus on the reasoning process, common misconceptions, and alternative solution methods.</p>
                        </div>
                    </div>
                    <hr style="margin: 30px 0;">
                `);
            });

            printWindow.document.write(`
                    <div class="footer">
                        <p>© 2023 AG MCQ Reasoning Assistant. For educational use only.</p>
                    </div>
                </body>
                </html>
            `);
            
            printWindow.document.close();
            
            // Initialize MathJax in print window
            printWindow.onload = function() {
                if (printWindow.MathJax) {
                    printWindow.MathJax.typesetPromise().catch(err => console.log('MathJax typeset error:', err));
                }
            };
        });

        // Initialize the application
        init();
    </script>
</body>
</html>